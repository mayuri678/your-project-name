<!-- Header -->
<app-header 
  [loggedIn]="isLoggedIn" 
  (logout)="onLogout()"
  (login)="onLogin()"
  (about)="onAbout()"
  (resume)="onResume()"
  (templates)="onTemplates()">
</app-header>

<div class="settings-container">
  <!-- Success/Error Messages -->
  <div *ngIf="successMessage" class="alert alert-success">
    ‚úÖ {{ successMessage }}
  </div>
  <div *ngIf="errorMessage" class="alert alert-error">
    ‚ùå {{ errorMessage }}
  </div>

  <div class="settings-header">
    <h1>‚öôÔ∏è {{ getTranslation('settings') }}</h1>
    <p>Manage your account preferences and privacy settings</p>
  </div>

  <div class="settings-content">
    <!-- Account Overview -->
    <div class="settings-section account-overview">
      <h2>üìä {{ getTranslation('accountOverview') }}</h2>
      <div class="account-stats">
        <div class="stat-card">
          <div class="stat-icon">üìÖ</div>
          <div class="stat-info">
            <div class="stat-label">{{ getTranslation('memberSince') }}</div>
            <div class="stat-value">{{ accountInfo.memberSince }}</div>
          </div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">üïë</div>
          <div class="stat-info">
            <div class="stat-label">{{ getTranslation('lastLogin') }}</div>
            <div class="stat-value">{{ accountInfo.lastLogin }}</div>
          </div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">üìÑ</div>
          <div class="stat-info">
            <div class="stat-label">{{ getTranslation('totalResumes') }}</div>
            <div class="stat-value">{{ accountInfo.totalResumes }}</div>
          </div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">üéØ</div>
          <div class="stat-info">
            <div class="stat-label">{{ getTranslation('accountType') }}</div>
            <div class="stat-value">{{ accountInfo.accountType }}</div>
          </div>
        </div>
      </div>
    </div>

    <!-- Profile Settings -->
    <div class="settings-section">
      <h2>üë§ {{ getTranslation('profileInfo') }}</h2>
      <div class="form-group">
        <label for="name">{{ getTranslation('fullName') }}</label>
        <input type="text" id="name" [(ngModel)]="userProfile.name" class="form-control">
      </div>
      
      <div class="form-group">
        <label for="email">{{ getTranslation('emailAddress') }}</label>
        <input type="email" id="email" [(ngModel)]="userProfile.email" class="form-control" readonly>
        <small class="form-text">Email cannot be changed</small>
      </div>
      
      <div class="form-group">
        <label for="phone">{{ getTranslation('phoneNumber') }}</label>
        <input type="tel" id="phone" [(ngModel)]="userProfile.phone" class="form-control" placeholder="+91 98765 43210">
      </div>
      
      <div class="form-group">
        <label for="address">{{ getTranslation('address') }}</label>
        <textarea id="address" [(ngModel)]="userProfile.address" class="form-control" rows="3" placeholder="Your address"></textarea>
      </div>
      
      <div class="form-group">
        <label for="bio">{{ getTranslation('bio') }}</label>
        <textarea id="bio" [(ngModel)]="userProfile.bio" class="form-control" rows="4" placeholder="Tell us about yourself"></textarea>
      </div>
      
      <div class="form-group">
        <label for="website">{{ getTranslation('website') }}</label>
        <input type="url" id="website" [(ngModel)]="userProfile.website" class="form-control" placeholder="https://yourwebsite.com">
      </div>
      
      <div class="form-group">
        <label for="linkedin">{{ getTranslation('linkedin') }}</label>
        <input type="url" id="linkedin" [(ngModel)]="userProfile.linkedin" class="form-control" placeholder="https://linkedin.com/in/yourprofile">
      </div>
      
      <div class="form-group">
        <label for="github">{{ getTranslation('github') }}</label>
        <input type="url" id="github" [(ngModel)]="userProfile.github" class="form-control" placeholder="https://github.com/yourusername">
      </div>
    </div>

    <!-- Preferences -->
    <div class="settings-section">
      <h2>‚öôÔ∏è {{ getTranslation('preferences') }}</h2>
      
      <div class="form-group checkbox-group">
        <label class="checkbox-label">
          <input type="checkbox" [(ngModel)]="preferences.notifications">
          <span class="checkmark"></span>
          {{ getTranslation('notifications') }}
        </label>
        <small class="form-text">Receive notifications about your resume updates</small>
      </div>
      
      <div class="form-group checkbox-group">
        <label class="checkbox-label">
          <input type="checkbox" [(ngModel)]="preferences.emailUpdates">
          <span class="checkmark"></span>
          {{ getTranslation('emailUpdates') }}
        </label>
        <small class="form-text">Get email updates about new templates and features</small>
      </div>
      
      <div class="form-group checkbox-group">
        <label class="checkbox-label">
          <input type="checkbox" [(ngModel)]="preferences.darkMode">
          <span class="checkmark"></span>
          {{ getTranslation('darkMode') }}
        </label>
        <small class="form-text">Switch to dark theme</small>
      </div>
      
      <div class="form-group checkbox-group">
        <label class="checkbox-label">
          <input type="checkbox" [(ngModel)]="preferences.autoSave">
          <span class="checkmark"></span>
          {{ getTranslation('autoSave') }}
        </label>
        <small class="form-text">Automatically save your work while editing</small>
      </div>
      
      <div class="form-group checkbox-group">
        <label class="checkbox-label">
          <input type="checkbox" [(ngModel)]="preferences.templatePreview">
          <span class="checkmark"></span>
          {{ getTranslation('templatePreview') }}
        </label>
        <small class="form-text">Show template previews in selection</small>
      </div>
      
      <div class="form-group">
        <label for="language">{{ getTranslation('language') }}</label>
        <select id="language" [(ngModel)]="preferences.language" (change)="onLanguageChange()" class="form-control">
          <option value="en">English</option>
          <option value="hi">‡§π‡§ø‡§Ç‡§¶‡•Ä</option>
          <option value="mr">‡§Æ‡§∞‡§æ‡§†‡•Ä</option>
        </select>
      </div>
    </div>

    <!-- Privacy Settings -->
    <div class="settings-section">
      <h2>üîí {{ getTranslation('privacy') }}</h2>
      
      <div class="form-group checkbox-group">
        <label class="checkbox-label">
          <input type="checkbox" [(ngModel)]="privacy.profileVisible">
          <span class="checkmark"></span>
          {{ getTranslation('profileVisible') }}
        </label>
        <small class="form-text">Allow others to view your profile</small>
      </div>
      
      <div class="form-group checkbox-group">
        <label class="checkbox-label">
          <input type="checkbox" [(ngModel)]="privacy.showEmail">
          <span class="checkmark"></span>
          {{ getTranslation('showEmail') }}
        </label>
        <small class="form-text">Display email on public profile</small>
      </div>
      
      <div class="form-group checkbox-group">
        <label class="checkbox-label">
          <input type="checkbox" [(ngModel)]="privacy.showPhone">
          <span class="checkmark"></span>
          {{ getTranslation('showPhone') }}
        </label>
        <small class="form-text">Display phone number on public profile</small>
      </div>
      
      <div class="form-group checkbox-group">
        <label class="checkbox-label">
          <input type="checkbox" [(ngModel)]="privacy.allowDownloads">
          <span class="checkmark"></span>
          {{ getTranslation('allowDownloads') }}
        </label>
        <small class="form-text">Allow others to download your resume</small>
      </div>
      
      <div class="form-group checkbox-group">
        <label class="checkbox-label">
          <input type="checkbox" [(ngModel)]="privacy.shareAnalytics">
          <span class="checkmark"></span>
          {{ getTranslation('shareAnalytics') }}
        </label>
        <small class="form-text">Help improve our service by sharing usage data</small>
      </div>
    </div>

    <!-- Action Buttons -->
    <div class="settings-actions">
      <button class="btn btn-primary" (click)="saveSettings()">
        üíæ {{ getTranslation('saveChanges') }}
      </button>
      <button class="btn btn-danger" (click)="deleteAccount()">
        üóëÔ∏è {{ getTranslation('deleteAccount') }}
      </button>
    </div>
  </div>
</div>