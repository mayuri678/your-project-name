<app-header [loggedIn]="isLoggedIn" [showTemplates]="false" (logout)="logout()"></app-header>

<!-- Edit Mode Banner -->
<div *ngIf="isEditMode" class="edit-mode-banner">
  <div class="edit-mode-content">
    <span class="edit-icon">‚úèÔ∏è</span>
    <span class="edit-text">Editing Template: <strong>{{ templateName || selectedTemplate }}</strong></span>
    <div class="edit-actions">
      <select [(ngModel)]="selectedTemplate" class="template-selector">
        <option value="template1">Template 1</option>
        <option value="template2">Template 2</option>
        <option value="template3">Template 3</option>
      </select>
      <button class="save-btn" (click)="saveTemplate()">üíæ Save Template</button>
      <button class="download-btn" (click)="downloadPDF()">üì• Download PDF</button>
      <button class="export-btn" (click)="exportResumeAsJSON()">üì§ Export JSON</button>
      <button class="import-btn" (click)="importResumeFromFile()">üìÇ Import Resume</button>
      <button *ngIf="pdfUrl" class="view-pdf-btn" (click)="showPdfViewer = true">üëÅÔ∏è View PDF</button>
      <button class="close-edit-btn" (click)="exitEditMode()">Exit Edit Mode</button>
    </div>
  </div>
</div>



<!-- Resume Actions Bar (Always Visible) -->
<div *ngIf="!isEditMode" class="resume-actions-bar">
  <div class="actions-content">
    <div class="actions-left">
      <span class="resume-info">Resume: <strong>{{ name || 'Untitled' }}</strong></span>
    </div>
    <div class="actions-right">
      <select [(ngModel)]="selectedTemplate" class="template-selector-view">
        <option value="template1">Template 1</option>
        <option value="template2">Template 2</option>
        <option value="template3">Template 3</option>
      </select>
      <button class="action-btn primary" (click)="downloadPDF()">üì• Download PDF</button>
      <button class="action-btn secondary" (click)="exportResumeAsJSON()">üì§ Export JSON</button>
      <button class="action-btn secondary" (click)="importResumeFromFile()">üìÇ Import Resume</button>
      <button class="action-btn edit" (click)="isEditMode = true">‚úèÔ∏è Edit</button>
      <button *ngIf="pdfImported" class="action-btn primary" (click)="quickEditPdf()">‚ö° Edit PDF</button>
      <button class="action-btn secondary" (click)="forceEditMode()">üîß Force Edit</button>
      <button class="action-btn secondary" (click)="testDataSet()">üß™ Test Data</button>
      <button class="action-btn primary" (click)="isEditMode = true; cdr.detectChanges()">‚úèÔ∏è Simple Edit</button>
    </div>
  </div>
</div>

<!-- Template 1 (Default) -->
<div *ngIf="selectedTemplate === 'template1'" class="resume-container template1" [class.edit-mode]="isEditMode" id="resume-content">
  <div class="header">
    <div class="info">
      <h1 *ngIf="!isEditMode">{{ name }}</h1>
      <input *ngIf="isEditMode" type="text" [(ngModel)]="name" class="editable-input" placeholder="Full Name">
      
      <h2 *ngIf="!isEditMode">{{ title }}</h2>
      <input *ngIf="isEditMode" type="text" [(ngModel)]="title" class="editable-input" placeholder="Job Title">
      
      <p *ngIf="!isEditMode"><b>Email:</b> {{ email }}</p>
      <p *ngIf="isEditMode"><b>Email:</b> <input type="email" [(ngModel)]="email" class="editable-input-small" placeholder="email@example.com"></p>
      
      <p *ngIf="!isEditMode"><b>Phone:</b> {{ phone }}</p>
      <p *ngIf="isEditMode"><b>Phone:</b> <input type="tel" [(ngModel)]="phone" class="editable-input-small" placeholder="+1-234-567-8900"></p>
      
      <p *ngIf="!isEditMode"><b>Location:</b> {{ location }}</p>
      <p *ngIf="isEditMode"><b>Location:</b> <input type="text" [(ngModel)]="location" class="editable-input-small" placeholder="City, State, Country"></p>
      
      <p *ngIf="!isEditMode"><b>LinkedIn:</b> {{ linkedIn }}</p>
      <p *ngIf="isEditMode"><b>LinkedIn:</b> <input type="text" [(ngModel)]="linkedIn" class="editable-input-small" placeholder="linkedin.com/in/username"></p>
      
      <p *ngIf="!isEditMode"><b>GitHub:</b> {{ github }}</p>
      <p *ngIf="isEditMode"><b>GitHub:</b> <input type="text" [(ngModel)]="github" class="editable-input-small" placeholder="github.com/username"></p>
    </div>
    <div class="photo">
        <div *ngIf="!isEditMode">
          <img [src]="getPhotoUrl()" alt="Profile Photo" *ngIf="getPhotoUrl()">
          <div *ngIf="!getPhotoUrl()" class="photo-placeholder-resume">
            <span class="placeholder-icon">üë§</span>
            <span class="placeholder-text">Profile Photo</span>
          </div>
        </div>
        <div *ngIf="isEditMode" class="photo-edit-container">
          <div class="photo-preview-resume">
            <img [src]="getPhotoUrl()" alt="Profile Photo" *ngIf="getPhotoUrl()">
            <div *ngIf="!getPhotoUrl()" class="photo-placeholder-resume">
              <span class="placeholder-icon">üë§</span>
              <span class="placeholder-text">Profile Photo</span>
            </div>
            <button class="remove-photo-btn-resume" *ngIf="getPhotoUrl()" (click)="removePhoto()" title="Remove photo">√ó</button>
          </div>
          <input type="file" [id]="'photo-input-' + selectedTemplate" accept="image/*" (change)="onPhotoSelected($event)" class="photo-input-resume">
          <label [for]="'photo-input-' + selectedTemplate" class="photo-upload-btn-resume">
            <span class="upload-icon">üì∑</span>
            {{ getPhotoUrl() ? 'Change Photo' : 'Upload Photo' }}
          </label>
        </div>
      </div>
  </div>
  <ng-container *ngTemplateOutlet="resumeDetails"></ng-container>
  </div>

<!-- TEMPLATE 2 -->
<div *ngIf="selectedTemplate === 'template2'" class="resume-container template2" [class.edit-mode]="isEditMode" id="resume-content">
  <div class="template2-main">
    <!-- LEFT: Resume Details -->
    <div class="template2-details">
      <ng-container *ngTemplateOutlet="resumeDetails"></ng-container>
    </div>

    <!-- RIGHT: Photo and Contact Info -->
    <div class="template2-sidebar">
      <ng-container *ngTemplateOutlet="profilePhotoTemplate"></ng-container>
      <div class="info">
        <h1 *ngIf="!isEditMode">{{ name }}</h1>
        <input *ngIf="isEditMode" type="text" [(ngModel)]="name" class="editable-input" placeholder="Full Name">
        
        <h2 *ngIf="!isEditMode">{{ title }}</h2>
        <input *ngIf="isEditMode" type="text" [(ngModel)]="title" class="editable-input" placeholder="Job Title">
        
        <p *ngIf="!isEditMode"><b>Email:</b> {{ email }}</p>
        <p *ngIf="isEditMode"><b>Email:</b> <input type="email" [(ngModel)]="email" class="editable-input-small" placeholder="email@example.com"></p>
        
        <p *ngIf="!isEditMode"><b>Phone:</b> {{ phone }}</p>
        <p *ngIf="isEditMode"><b>Phone:</b> <input type="tel" [(ngModel)]="phone" class="editable-input-small" placeholder="+1-234-567-8900"></p>
        
        <p *ngIf="!isEditMode"><b>Location:</b> {{ location }}</p>
        <p *ngIf="isEditMode"><b>Location:</b> <input type="text" [(ngModel)]="location" class="editable-input-small" placeholder="City, State, Country"></p>
        
        <p *ngIf="!isEditMode"><b>LinkedIn:</b> {{ linkedIn }}</p>
        <p *ngIf="isEditMode"><b>LinkedIn:</b> <input type="text" [(ngModel)]="linkedIn" class="editable-input-small" placeholder="linkedin.com/in/username"></p>
        
        <p *ngIf="!isEditMode"><b>GitHub:</b> {{ github }}</p>
        <p *ngIf="isEditMode"><b>GitHub:</b> <input type="text" [(ngModel)]="github" class="editable-input-small" placeholder="github.com/username"></p>
      </div>
    </div>
  </div>
</div>

<!-- TEMPLATE 3 -->
<div *ngIf="selectedTemplate === 'template3'" class="resume-container template3" [class.edit-mode]="isEditMode" id="resume-content">
  <div class="header">
    <div class="photo">
        <div *ngIf="!isEditMode">
          <img [src]="getPhotoUrl()" alt="Profile Photo" *ngIf="getPhotoUrl()">
          <div *ngIf="!getPhotoUrl()" class="photo-placeholder-resume">
            <span class="placeholder-icon">üë§</span>
            <span class="placeholder-text">Profile Photo</span>
          </div>
        </div>
        <div *ngIf="isEditMode" class="photo-edit-container">
          <div class="photo-preview-resume">
            <img [src]="getPhotoUrl()" alt="Profile Photo" *ngIf="getPhotoUrl()">
            <div *ngIf="!getPhotoUrl()" class="photo-placeholder-resume">
              <span class="placeholder-icon">üë§</span>
              <span class="placeholder-text">Profile Photo</span>
            </div>
            <button class="remove-photo-btn-resume" *ngIf="getPhotoUrl()" (click)="removePhoto()" title="Remove photo">√ó</button>
          </div>
          <input type="file" [id]="'photo-input-' + selectedTemplate" accept="image/*" (change)="onPhotoSelected($event)" class="photo-input-resume">
          <label [for]="'photo-input-' + selectedTemplate" class="photo-upload-btn-resume">
            <span class="upload-icon">üì∑</span>
            {{ getPhotoUrl() ? 'Change Photo' : 'Upload Photo' }}
          </label>
        </div>
    </div>
    <div class="info">
      <h1 *ngIf="!isEditMode">{{ name }}</h1>
      <input *ngIf="isEditMode" type="text" [(ngModel)]="name" class="editable-input" placeholder="Full Name">
      
      <h2 *ngIf="!isEditMode">{{ title }}</h2>
      <input *ngIf="isEditMode" type="text" [(ngModel)]="title" class="editable-input" placeholder="Job Title">
      
      <p *ngIf="!isEditMode"><b>Email:</b> {{ email }}</p>
      <p *ngIf="isEditMode"><b>Email:</b> <input type="email" [(ngModel)]="email" class="editable-input-small" placeholder="email@example.com"></p>
      
      <p *ngIf="!isEditMode"><b>Phone:</b> {{ phone }}</p>
      <p *ngIf="isEditMode"><b>Phone:</b> <input type="tel" [(ngModel)]="phone" class="editable-input-small" placeholder="+1-234-567-8900"></p>
      
      <p *ngIf="!isEditMode"><b>Location:</b> {{ location }}</p>
      <p *ngIf="isEditMode"><b>Location:</b> <input type="text" [(ngModel)]="location" class="editable-input-small" placeholder="City, State, Country"></p>
      
      <p *ngIf="!isEditMode"><b>LinkedIn:</b> {{ linkedIn }}</p>
      <p *ngIf="isEditMode"><b>LinkedIn:</b> <input type="text" [(ngModel)]="linkedIn" class="editable-input-small" placeholder="linkedin.com/in/username"></p>
      
      <p *ngIf="!isEditMode"><b>GitHub:</b> {{ github }}</p>
      <p *ngIf="isEditMode"><b>GitHub:</b> <input type="text" [(ngModel)]="github" class="editable-input-small" placeholder="github.com/username"></p>
    </div>
  </div>
  <ng-container *ngTemplateOutlet="resumeDetails"></ng-container>
</div>

<!-- TEMPLATE 4 -->
<div *ngIf="selectedTemplate === 'template4'" class="resume-container template4" [class.edit-mode]="isEditMode">
  <div class="header">
    <div class="info">
      <h1 *ngIf="!isEditMode">{{ name }}</h1>
      <input *ngIf="isEditMode" type="text" [(ngModel)]="name" class="editable-input" placeholder="Full Name">
      
      <h2 *ngIf="!isEditMode">{{ title }}</h2>
      <input *ngIf="isEditMode" type="text" [(ngModel)]="title" class="editable-input" placeholder="Job Title">
      
      <p *ngIf="!isEditMode"><b>Email:</b> {{ email }}</p>
      <p *ngIf="isEditMode"><b>Email:</b> <input type="email" [(ngModel)]="email" class="editable-input-small" placeholder="email@example.com"></p>
      
      <p *ngIf="!isEditMode"><b>Phone:</b> {{ phone }}</p>
      <p *ngIf="isEditMode"><b>Phone:</b> <input type="tel" [(ngModel)]="phone" class="editable-input-small" placeholder="+1-234-567-8900"></p>
      
      <p *ngIf="!isEditMode"><b>Location:</b> {{ location }}</p>
      <p *ngIf="isEditMode"><b>Location:</b> <input type="text" [(ngModel)]="location" class="editable-input-small" placeholder="City, State, Country"></p>
      
      <p *ngIf="!isEditMode"><b>LinkedIn:</b> {{ linkedIn }}</p>
      <p *ngIf="isEditMode"><b>LinkedIn:</b> <input type="text" [(ngModel)]="linkedIn" class="editable-input-small" placeholder="linkedin.com/in/username"></p>
      
      <p *ngIf="!isEditMode"><b>GitHub:</b> {{ github }}</p>
      <p *ngIf="isEditMode"><b>GitHub:</b> <input type="text" [(ngModel)]="github" class="editable-input-small" placeholder="github.com/username"></p>
    </div>
  </div>
  <ng-container *ngTemplateOutlet="resumeDetails"></ng-container>
</div>

<!-- TEMPLATE 5 -->
<div *ngIf="selectedTemplate === 'template5'" class="resume-container template5">
  <div class="template5-main">
    <!-- LEFT: Resume Details -->
    <div class="template5-details">
      <ng-container *ngTemplateOutlet="resumeDetails"></ng-container>
    </div>

    <!-- RIGHT: Photo and Contact Info -->
    <div class="template5-sidebar">
      <ng-container *ngTemplateOutlet="profilePhotoTemplate"></ng-container>
      <div class="info">
        <h1 *ngIf="!isEditMode">{{ name }}</h1>
        <input *ngIf="isEditMode" type="text" [(ngModel)]="name" class="editable-input" placeholder="Full Name">
        
        <h2 *ngIf="!isEditMode">{{ title }}</h2>
        <input *ngIf="isEditMode" type="text" [(ngModel)]="title" class="editable-input" placeholder="Job Title">
        
        <p *ngIf="!isEditMode"><b>Email:</b> {{ email }}</p>
        <p *ngIf="isEditMode"><b>Email:</b> <input type="email" [(ngModel)]="email" class="editable-input-small" placeholder="email@example.com"></p>
        
        <p *ngIf="!isEditMode"><b>Phone:</b> {{ phone }}</p>
        <p *ngIf="isEditMode"><b>Phone:</b> <input type="tel" [(ngModel)]="phone" class="editable-input-small" placeholder="+1-234-567-8900"></p>
        
        <p *ngIf="!isEditMode"><b>Location:</b> {{ location }}</p>
        <p *ngIf="isEditMode"><b>Location:</b> <input type="text" [(ngModel)]="location" class="editable-input-small" placeholder="City, State, Country"></p>
        
        <p *ngIf="!isEditMode"><b>LinkedIn:</b> {{ linkedIn }}</p>
        <p *ngIf="isEditMode"><b>LinkedIn:</b> <input type="text" [(ngModel)]="linkedIn" class="editable-input-small" placeholder="linkedin.com/in/username"></p>
        
        <p *ngIf="!isEditMode"><b>GitHub:</b> {{ github }}</p>
        <p *ngIf="isEditMode"><b>GitHub:</b> <input type="text" [(ngModel)]="github" class="editable-input-small" placeholder="github.com/username"></p>
      </div>
    </div>
  </div>
</div>

<!-- TEMPLATE 6 -->
<div *ngIf="selectedTemplate === 'template6'" class="resume-container template6">
  <div class="header">
    <div class="photo">
        <div *ngIf="!isEditMode">
          <img [src]="getPhotoUrl()" alt="Profile Photo" *ngIf="getPhotoUrl()">
          <div *ngIf="!getPhotoUrl()" class="photo-placeholder-resume">
            <span class="placeholder-icon">üë§</span>
            <span class="placeholder-text">Profile Photo</span>
          </div>
        </div>
        <div *ngIf="isEditMode" class="photo-edit-container">
          <div class="photo-preview-resume">
            <img [src]="getPhotoUrl()" alt="Profile Photo" *ngIf="getPhotoUrl()">
            <div *ngIf="!getPhotoUrl()" class="photo-placeholder-resume">
              <span class="placeholder-icon">üë§</span>
              <span class="placeholder-text">Profile Photo</span>
            </div>
            <button class="remove-photo-btn-resume" *ngIf="getPhotoUrl()" (click)="removePhoto()" title="Remove photo">√ó</button>
          </div>
          <input type="file" [id]="'photo-input-' + selectedTemplate" accept="image/*" (change)="onPhotoSelected($event)" class="photo-input-resume">
          <label [for]="'photo-input-' + selectedTemplate" class="photo-upload-btn-resume">
            <span class="upload-icon">üì∑</span>
            {{ getPhotoUrl() ? 'Change Photo' : 'Upload Photo' }}
          </label>
        </div>
    </div>
    <div class="info">
      <h1>{{ name }}</h1>
      <h2>{{ title }}</h2>
      <p><b>Email:</b> {{ email }}</p>
      <p><b>Phone:</b> {{ phone }}</p>
      <p><b>Location:</b> {{ location }}</p>
      <p><b>LinkedIn:</b> {{ linkedIn }}</p>
      <p><b>GitHub:</b> {{ github }}</p>
    </div>
  </div>
  <ng-container *ngTemplateOutlet="resumeDetails"></ng-container>
</div>

<!-- TEMPLATE 7 -->
<div *ngIf="selectedTemplate === 'template7'" class="resume-container template7">
  <div class="header">
    <div class="info">
      <h1>{{ name }}</h1>
      <h2>{{ title }}</h2>
      <p><b>Email:</b> {{ email }}</p>
      <p><b>Phone:</b> {{ phone }}</p>
      <p><b>Location:</b> {{ location }}</p>
      <p><b>LinkedIn:</b> {{ linkedIn }}</p>
      <p><b>GitHub:</b> {{ github }}</p>
    </div>
    <div class="photo">
        <div *ngIf="!isEditMode">
          <img [src]="getPhotoUrl()" alt="Profile Photo" *ngIf="getPhotoUrl()">
          <div *ngIf="!getPhotoUrl()" class="photo-placeholder-resume">
            <span class="placeholder-icon">üë§</span>
            <span class="placeholder-text">Profile Photo</span>
          </div>
        </div>
        <div *ngIf="isEditMode" class="photo-edit-container">
          <div class="photo-preview-resume">
            <img [src]="getPhotoUrl()" alt="Profile Photo" *ngIf="getPhotoUrl()">
            <div *ngIf="!getPhotoUrl()" class="photo-placeholder-resume">
              <span class="placeholder-icon">üë§</span>
              <span class="placeholder-text">Profile Photo</span>
            </div>
            <button class="remove-photo-btn-resume" *ngIf="getPhotoUrl()" (click)="removePhoto()" title="Remove photo">√ó</button>
          </div>
          <input type="file" [id]="'photo-input-' + selectedTemplate" accept="image/*" (change)="onPhotoSelected($event)" class="photo-input-resume">
          <label [for]="'photo-input-' + selectedTemplate" class="photo-upload-btn-resume">
            <span class="upload-icon">üì∑</span>
            {{ getPhotoUrl() ? 'Change Photo' : 'Upload Photo' }}
          </label>
        </div>
    </div>
  </div>
  <ng-container *ngTemplateOutlet="resumeDetails"></ng-container>
</div>

<!-- TEMPLATE 8 -->
<div *ngIf="selectedTemplate === 'template8'" class="resume-container template8">
  <div class="template8-main">
    <!-- LEFT: Resume Details -->
    <div class="template8-details">
      <ng-container *ngTemplateOutlet="resumeDetails"></ng-container>
    </div>

    <!-- RIGHT: Photo and Contact Info -->
    <div class="template8-sidebar">
      <div class="info">
        <h1>{{ name }}</h1>
        <h2>{{ title }}</h2>
        <p><b>Email:</b> {{ email }}</p>
        <p><b>Phone:</b> {{ phone }}</p>
        <p><b>Location:</b> {{ location }}</p>
        <p><b>LinkedIn:</b> {{ linkedIn }}</p>
        <p><b>GitHub:</b> {{ github }}</p>
      </div>
    </div>
  </div>
</div>

<!-- TEMPLATE 9 -->
<div *ngIf="selectedTemplate === 'template9'" class="resume-container template9">
  <div class="header">
    <div class="photo">
        <div *ngIf="!isEditMode">
          <img [src]="getPhotoUrl()" alt="Profile Photo" *ngIf="getPhotoUrl()">
          <div *ngIf="!getPhotoUrl()" class="photo-placeholder-resume">
            <span class="placeholder-icon">üë§</span>
            <span class="placeholder-text">Profile Photo</span>
          </div>
        </div>
        <div *ngIf="isEditMode" class="photo-edit-container">
          <div class="photo-preview-resume">
            <img [src]="getPhotoUrl()" alt="Profile Photo" *ngIf="getPhotoUrl()">
            <div *ngIf="!getPhotoUrl()" class="photo-placeholder-resume">
              <span class="placeholder-icon">üë§</span>
              <span class="placeholder-text">Profile Photo</span>
            </div>
            <button class="remove-photo-btn-resume" *ngIf="getPhotoUrl()" (click)="removePhoto()" title="Remove photo">√ó</button>
          </div>
          <input type="file" [id]="'photo-input-' + selectedTemplate" accept="image/*" (change)="onPhotoSelected($event)" class="photo-input-resume">
          <label [for]="'photo-input-' + selectedTemplate" class="photo-upload-btn-resume">
            <span class="upload-icon">üì∑</span>
            {{ getPhotoUrl() ? 'Change Photo' : 'Upload Photo' }}
          </label>
        </div>
    </div>
    <div class="info">
      <h1>{{ name }}</h1>
      <h2>{{ title }}</h2>
      <p><b>Email:</b> {{ email }}</p>
      <p><b>Phone:</b> {{ phone }}</p>
      <p><b>Location:</b> {{ location }}</p>
      <p><b>LinkedIn:</b> {{ linkedIn }}</p>
      <p><b>GitHub:</b> {{ github }}</p>
    </div>
  </div>
  <ng-container *ngTemplateOutlet="resumeDetails"></ng-container>
</div>

<!-- TEMPLATE 10 -->
<div *ngIf="selectedTemplate === 'template10'" class="resume-container template10">
  <div class="template10-main">
    <!-- LEFT: Resume Details -->
    <div class="template10-details">
      <ng-container *ngTemplateOutlet="resumeDetails"></ng-container>
    </div>

    <!-- RIGHT: Photo and Contact Info -->
    <div class="template10-sidebar">
      <ng-container *ngTemplateOutlet="profilePhotoTemplate"></ng-container>
      <div class="info">
        <h1>{{ name }}</h1>
        <h2>{{ title }}</h2>
        <p><b>Email:</b> {{ email }}</p>
        <p><b>Phone:</b> {{ phone }}</p>
        <p><b>Location:</b> {{ location }}</p>
        <p><b>LinkedIn:</b> {{ linkedIn }}</p>
        <p><b>GitHub:</b> {{ github }}</p>
      </div>
    </div>
  </div>
</div>

<!-- TEMPLATE 11 -->
<div *ngIf="selectedTemplate === 'template11'" class="resume-container template11">
  <div class="header">
    <div class="info">
      <h1>{{ name }}</h1>
      <h2>{{ title }}</h2>
      <p><b>Email:</b> {{ email }}</p>
      <p><b>Phone:</b> {{ phone }}</p>
      <p><b>Location:</b> {{ location }}</p>
      <p><b>LinkedIn:</b> {{ linkedIn }}</p>
      <p><b>GitHub:</b> {{ github }}</p>
    </div>
  </div>
  <ng-container *ngTemplateOutlet="resumeDetails"></ng-container>
</div>

<!-- TEMPLATE 12 -->
<div *ngIf="selectedTemplate === 'template12'" class="resume-container template12">
  <div class="header">
    <div class="photo">
        <div *ngIf="!isEditMode">
          <img [src]="getPhotoUrl()" alt="Profile Photo" *ngIf="getPhotoUrl()">
          <div *ngIf="!getPhotoUrl()" class="photo-placeholder-resume">
            <span class="placeholder-icon">üë§</span>
            <span class="placeholder-text">Profile Photo</span>
          </div>
        </div>
        <div *ngIf="isEditMode" class="photo-edit-container">
          <div class="photo-preview-resume">
            <img [src]="getPhotoUrl()" alt="Profile Photo" *ngIf="getPhotoUrl()">
            <div *ngIf="!getPhotoUrl()" class="photo-placeholder-resume">
              <span class="placeholder-icon">üë§</span>
              <span class="placeholder-text">Profile Photo</span>
            </div>
            <button class="remove-photo-btn-resume" *ngIf="getPhotoUrl()" (click)="removePhoto()" title="Remove photo">√ó</button>
          </div>
          <input type="file" [id]="'photo-input-' + selectedTemplate" accept="image/*" (change)="onPhotoSelected($event)" class="photo-input-resume">
          <label [for]="'photo-input-' + selectedTemplate" class="photo-upload-btn-resume">
            <span class="upload-icon">üì∑</span>
            {{ getPhotoUrl() ? 'Change Photo' : 'Upload Photo' }}
          </label>
        </div>
    </div>
    <div class="info">
      <h1>{{ name }}</h1>
      <h2>{{ title }}</h2>
      <p><b>Email:</b> {{ email }}</p>
      <p><b>Phone:</b> {{ phone }}</p>
      <p><b>Location:</b> {{ location }}</p>
      <p><b>LinkedIn:</b> {{ linkedIn }}</p>
      <p><b>GitHub:</b> {{ github }}</p>
    </div>
  </div>
  <ng-container *ngTemplateOutlet="resumeDetails"></ng-container>
</div>

<!-- TEMPLATE 13 -->
<div *ngIf="selectedTemplate === 'template13'" class="resume-container template13">
  <div class="header">
    <div class="info">
      <h1>{{ name }}</h1>
      <h2>{{ title }}</h2>
      <p><b>Email:</b> {{ email }}</p>
      <p><b>Phone:</b> {{ phone }}</p>
      <p><b>Location:</b> {{ location }}</p>
      <p><b>LinkedIn:</b> {{ linkedIn }}</p>
      <p><b>GitHub:</b> {{ github }}</p>
    </div>
    <div class="photo">
        <div *ngIf="!isEditMode">
          <img [src]="getPhotoUrl()" alt="Profile Photo" *ngIf="getPhotoUrl()">
          <div *ngIf="!getPhotoUrl()" class="photo-placeholder-resume">
            <span class="placeholder-icon">üë§</span>
            <span class="placeholder-text">Profile Photo</span>
          </div>
        </div>
        <div *ngIf="isEditMode" class="photo-edit-container">
          <div class="photo-preview-resume">
            <img [src]="getPhotoUrl()" alt="Profile Photo" *ngIf="getPhotoUrl()">
            <div *ngIf="!getPhotoUrl()" class="photo-placeholder-resume">
              <span class="placeholder-icon">üë§</span>
              <span class="placeholder-text">Profile Photo</span>
            </div>
            <button class="remove-photo-btn-resume" *ngIf="getPhotoUrl()" (click)="removePhoto()" title="Remove photo">√ó</button>
          </div>
          <input type="file" [id]="'photo-input-' + selectedTemplate" accept="image/*" (change)="onPhotoSelected($event)" class="photo-input-resume">
          <label [for]="'photo-input-' + selectedTemplate" class="photo-upload-btn-resume">
            <span class="upload-icon">üì∑</span>
            {{ getPhotoUrl() ? 'Change Photo' : 'Upload Photo' }}
          </label>
        </div>
    </div>
  </div>
  <ng-container *ngTemplateOutlet="resumeDetails"></ng-container>
</div>

<!-- TEMPLATE 14 -->
<div *ngIf="selectedTemplate === 'template14'" class="resume-container template14">
  <div class="template14-main">
    <div class="template14-details">
      <ng-container *ngTemplateOutlet="resumeDetails"></ng-container>
    </div>
    <div class="template14-sidebar">
      <div class="info">
        <h1>{{ name }}</h1>
        <h2>{{ title }}</h2>
        <p><b>Email:</b> {{ email }}</p>
        <p><b>Phone:</b> {{ phone }}</p>
        <p><b>Location:</b> {{ location }}</p>
        <p><b>LinkedIn:</b> {{ linkedIn }}</p>
        <p><b>GitHub:</b> {{ github }}</p>
      </div>
    </div>
  </div>
</div>

<!-- TEMPLATE 15 -->
<div *ngIf="selectedTemplate === 'template15'" class="resume-container template15">
  <div class="header">
    <div class="photo">
        <div *ngIf="!isEditMode">
          <img [src]="getPhotoUrl()" alt="Profile Photo" *ngIf="getPhotoUrl()">
          <div *ngIf="!getPhotoUrl()" class="photo-placeholder-resume">
            <span class="placeholder-icon">üë§</span>
            <span class="placeholder-text">Profile Photo</span>
          </div>
        </div>
        <div *ngIf="isEditMode" class="photo-edit-container">
          <div class="photo-preview-resume">
            <img [src]="getPhotoUrl()" alt="Profile Photo" *ngIf="getPhotoUrl()">
            <div *ngIf="!getPhotoUrl()" class="photo-placeholder-resume">
              <span class="placeholder-icon">üë§</span>
              <span class="placeholder-text">Profile Photo</span>
            </div>
            <button class="remove-photo-btn-resume" *ngIf="getPhotoUrl()" (click)="removePhoto()" title="Remove photo">√ó</button>
          </div>
          <input type="file" [id]="'photo-input-' + selectedTemplate" accept="image/*" (change)="onPhotoSelected($event)" class="photo-input-resume">
          <label [for]="'photo-input-' + selectedTemplate" class="photo-upload-btn-resume">
            <span class="upload-icon">üì∑</span>
            {{ getPhotoUrl() ? 'Change Photo' : 'Upload Photo' }}
          </label>
        </div>
    </div>
    <div class="info">
      <h1>{{ name }}</h1>
      <h2>{{ title }}</h2>
      <p><b>Email:</b> {{ email }}</p>
      <p><b>Phone:</b> {{ phone }}</p>
      <p><b>Location:</b> {{ location }}</p>
      <p><b>LinkedIn:</b> {{ linkedIn }}</p>
      <p><b>GitHub:</b> {{ github }}</p>
    </div>
  </div>
  <ng-container *ngTemplateOutlet="resumeDetails"></ng-container>
</div>

<!-- TEMPLATE 16 -->
<div *ngIf="selectedTemplate === 'template16'" class="resume-container template16">
  <div class="header">
    <div class="info">
      <h1>{{ name }}</h1>
      <h2>{{ title }}</h2>
      <p><b>Email:</b> {{ email }}</p>
      <p><b>Phone:</b> {{ phone }}</p>
      <p><b>Location:</b> {{ location }}</p>
      <p><b>LinkedIn:</b> {{ linkedIn }}</p>
      <p><b>GitHub:</b> {{ github }}</p>
    </div>
  </div>
  <ng-container *ngTemplateOutlet="resumeDetails"></ng-container>
</div>

<!-- TEMPLATE 17 -->
<div *ngIf="selectedTemplate === 'template17'" class="resume-container template17">
  <div class="template17-main">
    <div class="template17-details">
      <ng-container *ngTemplateOutlet="resumeDetails"></ng-container>
    </div>
    <div class="template17-sidebar">
      <ng-container *ngTemplateOutlet="profilePhotoTemplate"></ng-container>
      <div class="info">
        <h1>{{ name }}</h1>
        <h2>{{ title }}</h2>
        <p><b>Email:</b> {{ email }}</p>
        <p><b>Phone:</b> {{ phone }}</p>
        <p><b>Location:</b> {{ location }}</p>
        <p><b>LinkedIn:</b> {{ linkedIn }}</p>
        <p><b>GitHub:</b> {{ github }}</p>
      </div>
    </div>
  </div>
</div>

<!-- TEMPLATE 18 -->
<div *ngIf="selectedTemplate === 'template18'" class="resume-container template18">
  <div class="header">
    <div class="info">
      <h1>{{ name }}</h1>
      <h2>{{ title }}</h2>
      <p><b>Email:</b> {{ email }}</p>
      <p><b>Phone:</b> {{ phone }}</p>
      <p><b>Location:</b> {{ location }}</p>
      <p><b>LinkedIn:</b> {{ linkedIn }}</p>
      <p><b>GitHub:</b> {{ github }}</p>
    </div>
  </div>
  <ng-container *ngTemplateOutlet="resumeDetails"></ng-container>
</div>

<!-- TEMPLATE 19 -->
<div *ngIf="selectedTemplate === 'template19'" class="resume-container template19">
  <div class="header">
    <div class="photo">
        <div *ngIf="!isEditMode">
          <img [src]="getPhotoUrl()" alt="Profile Photo" *ngIf="getPhotoUrl()">
          <div *ngIf="!getPhotoUrl()" class="photo-placeholder-resume">
            <span class="placeholder-icon">üë§</span>
            <span class="placeholder-text">Profile Photo</span>
          </div>
        </div>
        <div *ngIf="isEditMode" class="photo-edit-container">
          <div class="photo-preview-resume">
            <img [src]="getPhotoUrl()" alt="Profile Photo" *ngIf="getPhotoUrl()">
            <div *ngIf="!getPhotoUrl()" class="photo-placeholder-resume">
              <span class="placeholder-icon">üë§</span>
              <span class="placeholder-text">Profile Photo</span>
            </div>
            <button class="remove-photo-btn-resume" *ngIf="getPhotoUrl()" (click)="removePhoto()" title="Remove photo">√ó</button>
          </div>
          <input type="file" [id]="'photo-input-' + selectedTemplate" accept="image/*" (change)="onPhotoSelected($event)" class="photo-input-resume">
          <label [for]="'photo-input-' + selectedTemplate" class="photo-upload-btn-resume">
            <span class="upload-icon">üì∑</span>
            {{ getPhotoUrl() ? 'Change Photo' : 'Upload Photo' }}
          </label>
        </div>
    </div>
    <div class="info">
      <h1>{{ name }}</h1>
      <h2>{{ title }}</h2>
      <p><b>Email:</b> {{ email }}</p>
      <p><b>Phone:</b> {{ phone }}</p>
      <p><b>Location:</b> {{ location }}</p>
      <p><b>LinkedIn:</b> {{ linkedIn }}</p>
      <p><b>GitHub:</b> {{ github }}</p>
    </div>
  </div>
  <ng-container *ngTemplateOutlet="resumeDetails"></ng-container>
</div>

<!-- TEMPLATE 20 -->
<div *ngIf="selectedTemplate === 'template20'" class="resume-container template20">
  <div class="template20-main">
    <div class="template20-details">
      <ng-container *ngTemplateOutlet="resumeDetails"></ng-container>
    </div>
    <div class="template20-sidebar">
      <div class="info">
        <h1>{{ name }}</h1>
        <h2>{{ title }}</h2>
        <p><b>Email:</b> {{ email }}</p>
        <p><b>Phone:</b> {{ phone }}</p>
        <p><b>Location:</b> {{ location }}</p>
        <p><b>LinkedIn:</b> {{ linkedIn }}</p>
        <p><b>GitHub:</b> {{ github }}</p>
      </div>
    </div>
  </div>
</div>

<!-- TEMPLATE 21 -->
<div *ngIf="selectedTemplate === 'template21'" class="resume-container template21">
  <div class="header">
    <div class="info">
      <h1>{{ name }}</h1>
      <h2>{{ title }}</h2>
      <p><b>Email:</b> {{ email }}</p>
      <p><b>Phone:</b> {{ phone }}</p>
      <p><b>Location:</b> {{ location }}</p>
      <p><b>LinkedIn:</b> {{ linkedIn }}</p>
      <p><b>GitHub:</b> {{ github }}</p>
    </div>
    <div class="photo">
        <div *ngIf="!isEditMode">
          <img [src]="getPhotoUrl()" alt="Profile Photo" *ngIf="getPhotoUrl()">
          <div *ngIf="!getPhotoUrl()" class="photo-placeholder-resume">
            <span class="placeholder-icon">üë§</span>
            <span class="placeholder-text">Profile Photo</span>
          </div>
        </div>
        <div *ngIf="isEditMode" class="photo-edit-container">
          <div class="photo-preview-resume">
            <img [src]="getPhotoUrl()" alt="Profile Photo" *ngIf="getPhotoUrl()">
            <div *ngIf="!getPhotoUrl()" class="photo-placeholder-resume">
              <span class="placeholder-icon">üë§</span>
              <span class="placeholder-text">Profile Photo</span>
            </div>
            <button class="remove-photo-btn-resume" *ngIf="getPhotoUrl()" (click)="removePhoto()" title="Remove photo">√ó</button>
          </div>
          <input type="file" [id]="'photo-input-' + selectedTemplate" accept="image/*" (change)="onPhotoSelected($event)" class="photo-input-resume">
          <label [for]="'photo-input-' + selectedTemplate" class="photo-upload-btn-resume">
            <span class="upload-icon">üì∑</span>
            {{ getPhotoUrl() ? 'Change Photo' : 'Upload Photo' }}
          </label>
        </div>
    </div>
  </div>
  <ng-container *ngTemplateOutlet="resumeDetails"></ng-container>
</div>

<!-- TEMPLATE 22 -->
<div *ngIf="selectedTemplate === 'template22'" class="resume-container template22">
  <div class="template22-main">
    <div class="template22-details">
      <ng-container *ngTemplateOutlet="resumeDetails"></ng-container>
    </div>
    <div class="template22-sidebar">
      <ng-container *ngTemplateOutlet="profilePhotoTemplate"></ng-container>
      <div class="info">
        <h1>{{ name }}</h1>
        <h2>{{ title }}</h2>
        <p><b>Email:</b> {{ email }}</p>
        <p><b>Phone:</b> {{ phone }}</p>
        <p><b>Location:</b> {{ location }}</p>
        <p><b>LinkedIn:</b> {{ linkedIn }}</p>
        <p><b>GitHub:</b> {{ github }}</p>
      </div>
    </div>
  </div>
</div>

<!-- TEMPLATE 23 -->
<div *ngIf="selectedTemplate === 'template23'" class="resume-container template23">
  <div class="header">
    <div class="photo">
        <div *ngIf="!isEditMode">
          <img [src]="getPhotoUrl()" alt="Profile Photo" *ngIf="getPhotoUrl()">
          <div *ngIf="!getPhotoUrl()" class="photo-placeholder-resume">
            <span class="placeholder-icon">üë§</span>
            <span class="placeholder-text">Profile Photo</span>
          </div>
        </div>
        <div *ngIf="isEditMode" class="photo-edit-container">
          <div class="photo-preview-resume">
            <img [src]="getPhotoUrl()" alt="Profile Photo" *ngIf="getPhotoUrl()">
            <div *ngIf="!getPhotoUrl()" class="photo-placeholder-resume">
              <span class="placeholder-icon">üë§</span>
              <span class="placeholder-text">Profile Photo</span>
            </div>
            <button class="remove-photo-btn-resume" *ngIf="getPhotoUrl()" (click)="removePhoto()" title="Remove photo">√ó</button>
          </div>
          <input type="file" [id]="'photo-input-' + selectedTemplate" accept="image/*" (change)="onPhotoSelected($event)" class="photo-input-resume">
          <label [for]="'photo-input-' + selectedTemplate" class="photo-upload-btn-resume">
            <span class="upload-icon">üì∑</span>
            {{ getPhotoUrl() ? 'Change Photo' : 'Upload Photo' }}
          </label>
        </div>
    </div>
    <div class="info">
      <h1>{{ name }}</h1>
      <h2>{{ title }}</h2>
      <p><b>Email:</b> {{ email }}</p>
      <p><b>Phone:</b> {{ phone }}</p>
      <p><b>Location:</b> {{ location }}</p>
      <p><b>LinkedIn:</b> {{ linkedIn }}</p>
      <p><b>GitHub:</b> {{ github }}</p>
    </div>
  </div>
  <ng-container *ngTemplateOutlet="resumeDetails"></ng-container>
</div>

<!-- TEMPLATE 24 -->
<div *ngIf="selectedTemplate === 'template24'" class="resume-container template24">
  <div class="template24-main">
    <div class="template24-details">
      <ng-container *ngTemplateOutlet="resumeDetails"></ng-container>
    </div>
    <div class="template24-sidebar">
      <div class="info">
        <h1>{{ name }}</h1>
        <h2>{{ title }}</h2>
        <p><b>Email:</b> {{ email }}</p>
        <p><b>Phone:</b> {{ phone }}</p>
        <p><b>Location:</b> {{ location }}</p>
        <p><b>LinkedIn:</b> {{ linkedIn }}</p>
        <p><b>GitHub:</b> {{ github }}</p>
      </div>
    </div>
  </div>
</div>

<!-- TEMPLATE 25 -->
<div *ngIf="selectedTemplate === 'template25'" class="resume-container template25">
  <div class="header">
    <div class="info">
      <h1>{{ name }}</h1>
      <h2>{{ title }}</h2>
      <p><b>Email:</b> {{ email }}</p>
      <p><b>Phone:</b> {{ phone }}</p>
      <p><b>Location:</b> {{ location }}</p>
      <p><b>LinkedIn:</b> {{ linkedIn }}</p>
      <p><b>GitHub:</b> {{ github }}</p>
    </div>
  </div>
  <ng-container *ngTemplateOutlet="resumeDetails"></ng-container>
</div>

<!-- TEMPLATE 26 -->
<div *ngIf="selectedTemplate === 'template26'" class="resume-container template26">
  <div class="template26-main">
    <div class="template26-details">
      <ng-container *ngTemplateOutlet="resumeDetails"></ng-container>
    </div>
    <div class="template26-sidebar">
      <ng-container *ngTemplateOutlet="profilePhotoTemplate"></ng-container>
      <div class="info">
        <h1>{{ name }}</h1>
        <h2>{{ title }}</h2>
        <p><b>Email:</b> {{ email }}</p>
        <p><b>Phone:</b> {{ phone }}</p>
        <p><b>Location:</b> {{ location }}</p>
        <p><b>LinkedIn:</b> {{ linkedIn }}</p>
        <p><b>GitHub:</b> {{ github }}</p>
      </div>
    </div>
  </div>
</div>

<!-- TEMPLATE 27 -->
<div *ngIf="selectedTemplate === 'template27'" class="resume-container template27">
  <div class="template27-main">
    <div class="template27-details">
      <ng-container *ngTemplateOutlet="resumeDetails"></ng-container>
    </div>
    <div class="template27-sidebar">
      <ng-container *ngTemplateOutlet="profilePhotoTemplate"></ng-container>
      <div class="info">
        <h1>{{ name }}</h1>
        <h2>{{ title }}</h2>
        <p><b>Email:</b> {{ email }}</p>
        <p><b>Phone:</b> {{ phone }}</p>
        <p><b>Location:</b> {{ location }}</p>
        <p><b>LinkedIn:</b> {{ linkedIn }}</p>
        <p><b>GitHub:</b> {{ github }}</p>
      </div>
    </div>
  </div>
</div>

<!-- TEMPLATE 28 -->
<div *ngIf="selectedTemplate === 'template28'" class="resume-container template28">
  <div class="header">
    <div class="info">
      <h1>{{ name }}</h1>
      <h2>{{ title }}</h2>
      <p><b>Email:</b> {{ email }}</p>
      <p><b>Phone:</b> {{ phone }}</p>
      <p><b>Location:</b> {{ location }}</p>
      <p><b>LinkedIn:</b> {{ linkedIn }}</p>
      <p><b>GitHub:</b> {{ github }}</p>
    </div>
  </div>
  <ng-container *ngTemplateOutlet="resumeDetails"></ng-container>
</div>

<!-- Profile Photo Template -->
<ng-template #profilePhotoTemplate>
  <div class="photo">
    <div *ngIf="!isEditMode">
      <img [src]="getPhotoUrl()" alt="Profile Photo" *ngIf="getPhotoUrl()">
      <div *ngIf="!getPhotoUrl()" class="photo-placeholder-resume">
        <span class="placeholder-icon">üë§</span>
        <span class="placeholder-text">Profile Photo</span>
      </div>
    </div>
    <div *ngIf="isEditMode" class="photo-edit-container">
      <div class="photo-preview-resume">
        <img [src]="getPhotoUrl()" alt="Profile Photo" *ngIf="getPhotoUrl()">
        <div *ngIf="!getPhotoUrl()" class="photo-placeholder-resume">
          <span class="placeholder-icon">üë§</span>
          <span class="placeholder-text">Profile Photo</span>
        </div>
        <button class="remove-photo-btn-resume" *ngIf="getPhotoUrl()" (click)="removePhoto()" title="Remove photo">√ó</button>
      </div>
      <input type="file" [id]="'photo-input-' + selectedTemplate" accept="image/*" (change)="onPhotoSelected($event)" class="photo-input-resume">
      <label [for]="'photo-input-' + selectedTemplate" class="photo-upload-btn-resume">
        <span class="upload-icon">üì∑</span>
        {{ getPhotoUrl() ? 'Change Photo' : 'Upload Photo' }}
      </label>
    </div>
  </div>
</ng-template>

<ng-template #resumeDetails>
  <section>
    <h3>Education</h3>
    <ul>
      <li *ngFor="let edu of education; let i = index">
        <div *ngIf="!isEditMode">
        <b>{{ edu.degree }}</b> - {{ edu.institute }} ({{ edu.year }})
        </div>
        <div *ngIf="isEditMode" class="editable-item">
          <input type="text" [(ngModel)]="edu.degree" class="editable-input" placeholder="Degree">
          <input type="text" [(ngModel)]="edu.institute" class="editable-input" placeholder="Institute">
          <input type="text" [(ngModel)]="edu.year" class="editable-input-small" placeholder="Year">
          <button class="remove-btn" (click)="removeEducation(i)">√ó</button>
        </div>
      </li>
      <li *ngIf="isEditMode">
        <button class="add-btn" (click)="addEducation()">+ Add Education</button>
      </li>
    </ul>
  </section>

  <section>
    <h3>Skills</h3>
    <ul>
      <li *ngFor="let skill of skills; let i = index">
        <span *ngIf="!isEditMode">{{ skill }}</span>
        <div *ngIf="isEditMode" class="editable-item">
          <input type="text" [(ngModel)]="skills[i]" class="editable-input" placeholder="Skill">
          <button class="remove-btn" (click)="removeSkill(i)">√ó</button>
        </div>
      </li>
      <li *ngIf="isEditMode">
        <button class="add-btn" (click)="addSkill()">+ Add Skill</button>
      </li>
    </ul>
  </section>

  <section>
    <h3>Experience</h3>
    <ul>
      <li *ngFor="let exp of experience; let i = index">
        <div *ngIf="!isEditMode">
        <b>{{ exp.role }}</b> at {{ exp.company }} ({{ exp.duration }})
        <p>{{ exp.description }}</p>
        </div>
        <div *ngIf="isEditMode" class="editable-item">
          <input type="text" [(ngModel)]="exp.role" class="editable-input" placeholder="Role">
          <input type="text" [(ngModel)]="exp.company" class="editable-input" placeholder="Company">
          <input type="text" [(ngModel)]="exp.duration" class="editable-input-small" placeholder="Duration">
          <textarea [(ngModel)]="exp.description" class="editable-textarea" placeholder="Description"></textarea>
          <button class="remove-btn" (click)="removeExperience(i)">√ó</button>
        </div>
      </li>
      <li *ngIf="isEditMode">
        <button class="add-btn" (click)="addExperience()">+ Add Experience</button>
      </li>
    </ul>
  </section>

  <section>
    <h3>Highlights</h3>
    <ul>
      <li *ngFor="let point of highlights; let i = index">
        <span *ngIf="!isEditMode">{{ point }}</span>
        <div *ngIf="isEditMode" class="editable-item">
          <input type="text" [(ngModel)]="highlights[i]" class="editable-input" placeholder="Highlight">
          <button class="remove-btn" (click)="removeHighlight(i)">√ó</button>
        </div>
      </li>
      <li *ngIf="isEditMode">
        <button class="add-btn" (click)="addHighlight()">+ Add Highlight</button>
      </li>
    </ul>
  </section>

  <section>
    <h3>Technical Skills</h3>
    <ul>
      <li *ngFor="let tech of technicalSkills; let i = index">
        <span *ngIf="!isEditMode">{{ tech }}</span>
        <div *ngIf="isEditMode" class="editable-item">
          <input type="text" [(ngModel)]="technicalSkills[i]" class="editable-input" placeholder="Technical Skill">
          <button class="remove-btn" (click)="removeTechnicalSkill(i)">√ó</button>
        </div>
      </li>
      <li *ngIf="isEditMode">
        <button class="add-btn" (click)="addTechnicalSkill()">+ Add Technical Skill</button>
      </li>
    </ul>
  </section>

  <section>
    <h3>Projects</h3>
    <ul>
      <li *ngFor="let proj of projects; let i = index">
        <div *ngIf="!isEditMode">
        <b>{{ proj.name }}</b> ({{ proj.technology }})
        <p>{{ proj.description }}</p>
        </div>
        <div *ngIf="isEditMode" class="editable-item">
          <input type="text" [(ngModel)]="proj.name" class="editable-input" placeholder="Project Name">
          <input type="text" [(ngModel)]="proj.technology" class="editable-input" placeholder="Technology">
          <textarea [(ngModel)]="proj.description" class="editable-textarea" placeholder="Description"></textarea>
          <input type="file" [id]="'project-file-' + i" accept="*/*" (change)="onProjectFileSelected($event, i)" class="file-input-resume">
          <label [for]="'project-file-' + i" class="file-upload-btn-resume">
            <span class="upload-icon">üìé</span>
            {{ proj.file ? proj.file.name : 'Attach Project File' }}
          </label>
          <button class="remove-btn" (click)="removeProject(i)">√ó</button>
        </div>
      </li>
      <li *ngIf="isEditMode">
        <button class="add-btn" (click)="addProject()">+ Add Project</button>
      </li>
    </ul>
  </section>

  <section *ngIf="certifications && certifications.length > 0 || isEditMode" class="section">
    <h2>Certifications</h2>
    <ul class="certifications">
      <li *ngFor="let cert of certifications; let i = index">
        <span *ngIf="!isEditMode">{{ getCertificationName(cert) }}</span>
        <div *ngIf="isEditMode" class="editable-item">
          <input type="text" [(ngModel)]="cert.name" class="editable-input" placeholder="Certification Name">
          <input type="file" [id]="'certification-file-' + i" accept="*/*" (change)="onCertificationFileSelected($event, i)" class="file-input-resume">
          <label [for]="'certification-file-' + i" class="file-upload-btn-resume">
            <span class="upload-icon">üìé</span>
            {{ cert.file ? cert.file.name : 'Attach Certificate File' }}
          </label>
          <button class="remove-btn" (click)="removeCertification(i)">√ó</button>
        </div>
      </li>
      <li *ngIf="isEditMode">
        <button class="add-btn" (click)="addCertification()">+ Add Certification</button>
      </li>
    </ul>
  </section>
</ng-template>

<!-- PDF Viewer Modal -->
<div *ngIf="showPdfViewer" class="pdf-viewer-modal">
  <div class="pdf-viewer-content">
    <div class="pdf-viewer-header">
      <h3>PDF Preview</h3>
      <div class="pdf-viewer-actions">
        <button class="edit-pdf-btn" (click)="editImportedPdf()" type="button">‚úèÔ∏è Edit PDF Data</button>
        <button class="edit-pdf-btn" (click)="quickEditPdf()" type="button">‚ö° Quick Edit</button>
        <button class="close-btn" (click)="closePdfViewer()">√ó</button>
      </div>
    </div>
    <div class="pdf-viewer-body">
      <iframe [src]="pdfUrl" width="100%" height="600px" frameborder="0"></iframe>
    </div>
  </div>
</div>
