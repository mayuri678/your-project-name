<header class="home-header">
  <div class="header-content">

    <!-- Left: Logo and Company Name -->
    <div class="header-left">
      <div class="logo">RB</div>
      <h1 class="company-name">Resume Builder</h1>
    </div>

    <!-- Navigation Links -->
    <nav class="header-nav">
      <a class="nav-link" routerLink="/home" routerLinkActive="active">Home</a>
      <a class="nav-link" routerLink="/about" routerLinkActive="active">About</a>
      <a class="nav-link" routerLink="/my-templates" routerLinkActive="active">My Templates</a>
      <div class="templates-dropdown">
        <a class="nav-link" (click)="toggleTemplates()">Templates â–¼</a>
        <div class="templates-menu" *ngIf="isTemplatesOpen" (mouseleave)="closeTemplates()">
          <button class="template-menu-item" (click)="onTemplatesClick(); closeTemplates()">
            <span class="menu-icon">ğŸ“„</span>
            Resume Templates
          </button>
          <button class="template-menu-item" (click)="openResumeGenerator(); closeTemplates()">
            <span class="menu-icon">âœ¨</span>
            Resume Summary Generator
          </button>
        </div>
      </div>
    </nav>

    <!-- Right: Contact and Account -->
    <div class="contact-info">
      <!-- Help Button -->
      <button class="help-btn" (click)="goToHelp()" title="Help & Documentation">ğŸ“‹ HELP</button>
      
      <!-- Contact Button -->
      <button class="contact-btn" (click)="openContactForm()" aria-label="Contact us">ğŸ’¬ CONTACT</button>

      <!-- âœ… Login Button: Only visible if not logged in -->
      <button *ngIf="!loggedIn" class="login-btn" (click)="goToLogin()">Login</button>

      <!-- User Profile Avatar: Visible if logged in -->
      <div class="user-profile" *ngIf="loggedIn">
        <button class="user-avatar" (click)="toggleAccount()" [attr.aria-haspopup]="true" [attr.aria-expanded]="isAccountOpen">
          {{ getUserInitial() }}
        </button>
        <div class="user-menu" *ngIf="isAccountOpen" (mouseleave)="closeAccount()">
          <!-- Menu Header with Close Button -->
          <div class="menu-header">
            <h3 class="menu-title">Account</h3>
            <button class="close-menu-btn" (click)="closeAccount()" aria-label="Close menu">
              <span class="close-icon">âœ•</span>
            </button>
          </div>
          
          <!-- Current User Info Section -->
          <div class="user-info current-user">
            <div class="user-avatar-large">{{ getUserInitial() }}</div>
            <div class="user-details">
              <div class="user-name">{{ getCurrentUserName() }}</div>
              <div class="user-email">{{ getCurrentUserEmail() }}</div>
              <div class="user-status">Current User</div>
            </div>
          </div>

          <!-- Menu Actions -->
          <div class="menu-actions">
            <button class="menu-item" (click)="goToProfile(); closeAccount()">
              <span class="menu-icon">ğŸ‘¤</span>
              Profile
            </button>
            <button class="menu-item" (click)="goToSettings(); closeAccount()">
              <span class="menu-icon">âš™ï¸</span>
              Settings
            </button>
            <button *ngIf="isAdmin" class="menu-item admin" (click)="goToAdmin(); closeAccount()">
              <span class="menu-icon">ğŸ”§</span>
              Admin Panel
            </button>
            <div class="menu-divider"></div>
            <button class="menu-item logout" (click)="logoutCurrentUser(); closeAccount()">
              <span class="menu-icon">ğŸšª</span>
              Logout
            </button>
          </div>
        </div>
      </div>
    </div>

  </div>
</header>
